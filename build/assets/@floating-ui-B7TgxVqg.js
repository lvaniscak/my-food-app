import{g as An}from"./@emotion-DbSep2O-.js";import{r as d,R as Zt}from"./react-CCZ4VI8N.js";import{h as Sn}from"./aria-hidden-DQ5UC2Eg.js";import{t as Ue}from"./tabbable-CjV0_wFH.js";import{r as be}from"./react-dom-B1PdBMd8.js";const Jt=["top","right","bottom","left"],St=["start","end"],Lt=Jt.reduce((e,t)=>e.concat(t,t+"-"+St[0],t+"-"+St[1]),[]),ee=Math.min,U=Math.max,Ze=Math.round,Ke=Math.floor,ye=e=>({x:e,y:e}),Ln={left:"right",right:"left",bottom:"top",top:"bottom"},Mn={start:"end",end:"start"};function mt(e,t,n){return U(e,ee(t,n))}function ue(e,t){return typeof e=="function"?e(t):e}function ne(e){return e.split("-")[0]}function le(e){return e.split("-")[1]}function ht(e){return e==="x"?"y":"x"}function vt(e){return e==="y"?"height":"width"}function Oe(e){return["top","bottom"].includes(ne(e))?"y":"x"}function bt(e){return ht(Oe(e))}function Qt(e,t,n){n===void 0&&(n=!1);const r=le(e),o=bt(e),i=vt(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Qe(s)),[s,Qe(s)]}function Dn(e){const t=Qe(e);return[Je(e),t,Je(t)]}function Je(e){return e.replace(/start|end/g,t=>Mn[t])}function Fn(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function kn(e,t,n,r){const o=le(e);let i=Fn(ne(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(Je)))),i}function Qe(e){return e.replace(/left|right|bottom|top/g,t=>Ln[t])}function Nn(e){return{top:0,right:0,bottom:0,left:0,...e}}function yt(e){return typeof e!="number"?Nn(e):{top:e,right:e,bottom:e,left:e}}function Ae(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Mt(e,t,n){let{reference:r,floating:o}=e;const i=Oe(t),s=bt(t),c=vt(s),l=ne(t),a=i==="y",p=r.x+r.width/2-o.width/2,h=r.y+r.height/2-o.height/2,m=r[c]/2-o[c]/2;let f;switch(l){case"top":f={x:p,y:r.y-o.height};break;case"bottom":f={x:p,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:h};break;case"left":f={x:r.x-o.width,y:h};break;default:f={x:r.x,y:r.y}}switch(le(t)){case"start":f[s]-=m*(n&&a?-1:1);break;case"end":f[s]+=m*(n&&a?-1:1);break}return f}const Bn=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,c=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let a=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:p,y:h}=Mt(a,r,l),m=r,f={},v=0;for(let g=0;g<c.length;g++){const{name:b,fn:y}=c[g],{x:R,y:x,data:E,reset:w}=await y({x:p,y:h,initialPlacement:r,placement:m,strategy:o,middlewareData:f,rects:a,platform:s,elements:{reference:e,floating:t}});p=R??p,h=x??h,f={...f,[b]:{...f[b],...E}},w&&v<=50&&(v++,typeof w=="object"&&(w.placement&&(m=w.placement),w.rects&&(a=w.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):w.rects),{x:p,y:h}=Mt(a,m,l)),g=-1)}return{x:p,y:h,placement:m,strategy:o,middlewareData:f}};async function xe(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:c,strategy:l}=e,{boundary:a="clippingAncestors",rootBoundary:p="viewport",elementContext:h="floating",altBoundary:m=!1,padding:f=0}=ue(t,e),v=yt(f),b=c[m?h==="floating"?"reference":"floating":h],y=Ae(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:a,rootBoundary:p,strategy:l})),R=h==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),E=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},w=Ae(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:R,offsetParent:x,strategy:l}):R);return{top:(y.top-w.top+v.top)/E.y,bottom:(w.bottom-y.bottom+v.bottom)/E.y,left:(y.left-w.left+v.left)/E.x,right:(w.right-y.right+v.right)/E.x}}const Hn=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:c,middlewareData:l}=t,{element:a,padding:p=0}=ue(e,t)||{};if(a==null)return{};const h=yt(p),m={x:n,y:r},f=bt(o),v=vt(f),g=await s.getDimensions(a),b=f==="y",y=b?"top":"left",R=b?"bottom":"right",x=b?"clientHeight":"clientWidth",E=i.reference[v]+i.reference[f]-m[f]-i.floating[v],w=m[f]-i.reference[f],S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a));let F=S?S[x]:0;(!F||!await(s.isElement==null?void 0:s.isElement(S)))&&(F=c.floating[x]||i.floating[v]);const H=E/2-w/2,L=F/2-g[v]/2-1,T=ee(h[y],L),u=ee(h[R],L),M=T,I=F-g[v]-u,O=F/2-g[v]/2+H,A=mt(M,O,I),N=!l.arrow&&le(o)!=null&&O!==A&&i.reference[v]/2-(O<M?T:u)-g[v]/2<0,V=N?O<M?O-M:O-I:0;return{[f]:m[f]+V,data:{[f]:A,centerOffset:O-A-V,...N&&{alignmentOffset:V}},reset:N}}});function _n(e,t,n){return(e?[...n.filter(o=>le(o)===e),...n.filter(o=>le(o)!==e)]:n.filter(o=>ne(o)===o)).filter(o=>e?le(o)===e||(t?Je(o)!==o:!1):!0)}const Vn=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,r,o;const{rects:i,middlewareData:s,placement:c,platform:l,elements:a}=t,{crossAxis:p=!1,alignment:h,allowedPlacements:m=Lt,autoAlignment:f=!0,...v}=ue(e,t),g=h!==void 0||m===Lt?_n(h||null,f,m):m,b=await xe(t,v),y=((n=s.autoPlacement)==null?void 0:n.index)||0,R=g[y];if(R==null)return{};const x=Qt(R,i,await(l.isRTL==null?void 0:l.isRTL(a.floating)));if(c!==R)return{reset:{placement:g[0]}};const E=[b[ne(R)],b[x[0]],b[x[1]]],w=[...((r=s.autoPlacement)==null?void 0:r.overflows)||[],{placement:R,overflows:E}],S=g[y+1];if(S)return{data:{index:y+1,overflows:w},reset:{placement:S}};const F=w.map(T=>{const u=le(T.placement);return[T.placement,u&&p?T.overflows.slice(0,2).reduce((M,I)=>M+I,0):T.overflows[0],T.overflows]}).sort((T,u)=>T[1]-u[1]),L=((o=F.filter(T=>T[2].slice(0,le(T[0])?2:3).every(u=>u<=0))[0])==null?void 0:o[0])||F[0][0];return L!==c?{data:{index:y+1,overflows:w},reset:{placement:L}}:{}}}},Wn=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:c,platform:l,elements:a}=t,{mainAxis:p=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...b}=ue(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=ne(o),R=ne(c)===c,x=await(l.isRTL==null?void 0:l.isRTL(a.floating)),E=m||(R||!g?[Qe(c)]:Dn(c));!m&&v!=="none"&&E.push(...kn(c,g,v,x));const w=[c,...E],S=await xe(t,b),F=[];let H=((r=i.flip)==null?void 0:r.overflows)||[];if(p&&F.push(S[y]),h){const M=Qt(o,s,x);F.push(S[M[0]],S[M[1]])}if(H=[...H,{placement:o,overflows:F}],!F.every(M=>M<=0)){var L,T;const M=(((L=i.flip)==null?void 0:L.index)||0)+1,I=w[M];if(I)return{data:{index:M,overflows:H},reset:{placement:I}};let O=(T=H.filter(A=>A.overflows[0]<=0).sort((A,N)=>A.overflows[1]-N.overflows[1])[0])==null?void 0:T.placement;if(!O)switch(f){case"bestFit":{var u;const A=(u=H.map(N=>[N.placement,N.overflows.filter(V=>V>0).reduce((V,C)=>V+C,0)]).sort((N,V)=>N[1]-V[1])[0])==null?void 0:u[0];A&&(O=A);break}case"initialPlacement":O=c;break}if(o!==O)return{reset:{placement:O}}}return{}}}};function Dt(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ft(e){return Jt.some(t=>e[t]>=0)}const $n=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=ue(e,t);switch(r){case"referenceHidden":{const i=await xe(t,{...o,elementContext:"reference"}),s=Dt(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Ft(s)}}}case"escaped":{const i=await xe(t,{...o,altBoundary:!0}),s=Dt(i,n.floating);return{data:{escapedOffsets:s,escaped:Ft(s)}}}default:return{}}}}};function en(e){const t=ee(...e.map(i=>i.left)),n=ee(...e.map(i=>i.top)),r=U(...e.map(i=>i.right)),o=U(...e.map(i=>i.bottom));return{x:t,y:n,width:r-t,height:o-n}}function Kn(e){const t=e.slice().sort((o,i)=>o.y-i.y),n=[];let r=null;for(let o=0;o<t.length;o++){const i=t[o];!r||i.y-r.y>r.height/2?n.push([i]):n[n.length-1].push(i),r=i}return n.map(o=>Ae(en(o)))}const jn=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:o,platform:i,strategy:s}=t,{padding:c=2,x:l,y:a}=ue(e,t),p=Array.from(await(i.getClientRects==null?void 0:i.getClientRects(r.reference))||[]),h=Kn(p),m=Ae(en(p)),f=yt(c);function v(){if(h.length===2&&h[0].left>h[1].right&&l!=null&&a!=null)return h.find(b=>l>b.left-f.left&&l<b.right+f.right&&a>b.top-f.top&&a<b.bottom+f.bottom)||m;if(h.length>=2){if(Oe(n)==="y"){const T=h[0],u=h[h.length-1],M=ne(n)==="top",I=T.top,O=u.bottom,A=M?T.left:u.left,N=M?T.right:u.right,V=N-A,C=O-I;return{top:I,bottom:O,left:A,right:N,width:V,height:C,x:A,y:I}}const b=ne(n)==="left",y=U(...h.map(T=>T.right)),R=ee(...h.map(T=>T.left)),x=h.filter(T=>b?T.left===R:T.right===y),E=x[0].top,w=x[x.length-1].bottom,S=R,F=y,H=F-S,L=w-E;return{top:E,bottom:w,left:S,right:F,width:H,height:L,x:S,y:E}}return m}const g=await i.getElementRects({reference:{getBoundingClientRect:v},floating:r.floating,strategy:s});return o.reference.x!==g.reference.x||o.reference.y!==g.reference.y||o.reference.width!==g.reference.width||o.reference.height!==g.reference.height?{reset:{rects:g}}:{}}}};async function zn(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=ne(n),c=le(n),l=Oe(n)==="y",a=["left","top"].includes(s)?-1:1,p=i&&l?-1:1,h=ue(t,e);let{mainAxis:m,crossAxis:f,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return c&&typeof v=="number"&&(f=c==="end"?v*-1:v),l?{x:f*p,y:m*a}:{x:m*a,y:f*p}}const Yn=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:s,middlewareData:c}=t,l=await zn(t,e);return s===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:s}}}}},Xn=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:c={fn:b=>{let{x:y,y:R}=b;return{x:y,y:R}}},...l}=ue(e,t),a={x:n,y:r},p=await xe(t,l),h=Oe(ne(o)),m=ht(h);let f=a[m],v=a[h];if(i){const b=m==="y"?"top":"left",y=m==="y"?"bottom":"right",R=f+p[b],x=f-p[y];f=mt(R,f,x)}if(s){const b=h==="y"?"top":"left",y=h==="y"?"bottom":"right",R=v+p[b],x=v-p[y];v=mt(R,v,x)}const g=c.fn({...t,[m]:f,[h]:v});return{...g,data:{x:g.x-n,y:g.y-r}}}}},qn=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:s}=t,{offset:c=0,mainAxis:l=!0,crossAxis:a=!0}=ue(e,t),p={x:n,y:r},h=Oe(o),m=ht(h);let f=p[m],v=p[h];const g=ue(c,t),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const x=m==="y"?"height":"width",E=i.reference[m]-i.floating[x]+b.mainAxis,w=i.reference[m]+i.reference[x]-b.mainAxis;f<E?f=E:f>w&&(f=w)}if(a){var y,R;const x=m==="y"?"width":"height",E=["top","left"].includes(ne(o)),w=i.reference[h]-i.floating[x]+(E&&((y=s.offset)==null?void 0:y[h])||0)+(E?0:b.crossAxis),S=i.reference[h]+i.reference[x]+(E?0:((R=s.offset)==null?void 0:R[h])||0)-(E?b.crossAxis:0);v<w?v=w:v>S&&(v=S)}return{[m]:f,[h]:v}}}},Gn=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:o,elements:i}=t,{apply:s=()=>{},...c}=ue(e,t),l=await xe(t,c),a=ne(n),p=le(n),h=Oe(n)==="y",{width:m,height:f}=r.floating;let v,g;a==="top"||a==="bottom"?(v=a,g=p===(await(o.isRTL==null?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(g=a,v=p==="end"?"top":"bottom");const b=f-l.top-l.bottom,y=m-l.left-l.right,R=ee(f-l[v],b),x=ee(m-l[g],y),E=!t.middlewareData.shift;let w=R,S=x;if(h?S=p||E?ee(x,y):y:w=p||E?ee(R,b):b,E&&!p){const H=U(l.left,0),L=U(l.right,0),T=U(l.top,0),u=U(l.bottom,0);h?S=m-2*(H!==0||L!==0?H+L:U(l.left,l.right)):w=f-2*(T!==0||u!==0?T+u:U(l.top,l.bottom))}await s({...t,availableWidth:S,availableHeight:w});const F=await o.getDimensions(i.floating);return m!==F.width||f!==F.height?{reset:{rects:!0}}:{}}}};function Me(e){return tn(e)?(e.nodeName||"").toLowerCase():"#document"}function te(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function pe(e){var t;return(t=(tn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function tn(e){return e instanceof Node||e instanceof te(e).Node}function fe(e){return e instanceof Element||e instanceof te(e).Element}function de(e){return e instanceof HTMLElement||e instanceof te(e).HTMLElement}function kt(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof te(e).ShadowRoot}function We(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=ae(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function Un(e){return["table","td","th"].includes(Me(e))}function wt(e){const t=xt(),n=ae(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Zn(e){let t=we(e);for(;de(t)&&!Se(t);){if(wt(t))return t;t=we(t)}return null}function xt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Se(e){return["html","body","#document"].includes(Me(e))}function ae(e){return te(e).getComputedStyle(e)}function ot(e){return fe(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function we(e){if(Me(e)==="html")return e;const t=e.assignedSlot||e.parentNode||kt(e)&&e.host||pe(e);return kt(t)?t.host:t}function nn(e){const t=we(e);return Se(t)?e.ownerDocument?e.ownerDocument.body:e.body:de(t)&&We(t)?t:nn(t)}function ge(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=nn(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=te(o);return i?t.concat(s,s.visualViewport||[],We(o)?o:[],s.frameElement&&n?ge(s.frameElement):[]):t.concat(o,ge(o,[],n))}function rn(e){const t=ae(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=de(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,c=Ze(n)!==i||Ze(r)!==s;return c&&(n=i,r=s),{width:n,height:r,$:c}}function Rt(e){return fe(e)?e:e.contextElement}function Ie(e){const t=Rt(e);if(!de(t))return ye(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=rn(t);let s=(i?Ze(n.width):n.width)/r,c=(i?Ze(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const Jn=ye(0);function on(e){const t=te(e);return!xt()||!t.visualViewport?Jn:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Qn(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==te(e)?!1:t}function Re(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=Rt(e);let s=ye(1);t&&(r?fe(r)&&(s=Ie(r)):s=Ie(e));const c=Qn(i,n,r)?on(i):ye(0);let l=(o.left+c.x)/s.x,a=(o.top+c.y)/s.y,p=o.width/s.x,h=o.height/s.y;if(i){const m=te(i),f=r&&fe(r)?te(r):r;let v=m,g=v.frameElement;for(;g&&r&&f!==v;){const b=Ie(g),y=g.getBoundingClientRect(),R=ae(g),x=y.left+(g.clientLeft+parseFloat(R.paddingLeft))*b.x,E=y.top+(g.clientTop+parseFloat(R.paddingTop))*b.y;l*=b.x,a*=b.y,p*=b.x,h*=b.y,l+=x,a+=E,v=te(g),g=v.frameElement}}return Ae({width:p,height:h,x:l,y:a})}const er=[":popover-open",":modal"];function Et(e){return er.some(t=>{try{return e.matches(t)}catch{return!1}})}function tr(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",s=pe(r),c=t?Et(t.floating):!1;if(r===s||c&&i)return n;let l={scrollLeft:0,scrollTop:0},a=ye(1);const p=ye(0),h=de(r);if((h||!h&&!i)&&((Me(r)!=="body"||We(s))&&(l=ot(r)),de(r))){const m=Re(r);a=Ie(r),p.x=m.x+r.clientLeft,p.y=m.y+r.clientTop}return{width:n.width*a.x,height:n.height*a.y,x:n.x*a.x-l.scrollLeft*a.x+p.x,y:n.y*a.y-l.scrollTop*a.y+p.y}}function nr(e){return Array.from(e.getClientRects())}function sn(e){return Re(pe(e)).left+ot(e).scrollLeft}function rr(e){const t=pe(e),n=ot(e),r=e.ownerDocument.body,o=U(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=U(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+sn(e);const c=-n.scrollTop;return ae(r).direction==="rtl"&&(s+=U(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:c}}function or(e,t){const n=te(e),r=pe(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,c=0,l=0;if(o){i=o.width,s=o.height;const a=xt();(!a||a&&t==="fixed")&&(c=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:c,y:l}}function ir(e,t){const n=Re(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=de(e)?Ie(e):ye(1),s=e.clientWidth*i.x,c=e.clientHeight*i.y,l=o*i.x,a=r*i.y;return{width:s,height:c,x:l,y:a}}function Nt(e,t,n){let r;if(t==="viewport")r=or(e,n);else if(t==="document")r=rr(pe(e));else if(fe(t))r=ir(t,n);else{const o=on(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return Ae(r)}function cn(e,t){const n=we(e);return n===t||!fe(n)||Se(n)?!1:ae(n).position==="fixed"||cn(n,t)}function sr(e,t){const n=t.get(e);if(n)return n;let r=ge(e,[],!1).filter(c=>fe(c)&&Me(c)!=="body"),o=null;const i=ae(e).position==="fixed";let s=i?we(e):e;for(;fe(s)&&!Se(s);){const c=ae(s),l=wt(s);!l&&c.position==="fixed"&&(o=null),(i?!l&&!o:!l&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||We(s)&&!l&&cn(e,s))?r=r.filter(p=>p!==s):o=c,s=we(s)}return t.set(e,r),r}function cr(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?Et(t)?[]:sr(t,this._c):[].concat(n),r],c=s[0],l=s.reduce((a,p)=>{const h=Nt(t,p,o);return a.top=U(h.top,a.top),a.right=ee(h.right,a.right),a.bottom=ee(h.bottom,a.bottom),a.left=U(h.left,a.left),a},Nt(t,c,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function lr(e){const{width:t,height:n}=rn(e);return{width:t,height:n}}function ur(e,t,n){const r=de(t),o=pe(t),i=n==="fixed",s=Re(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const l=ye(0);if(r||!r&&!i)if((Me(t)!=="body"||We(o))&&(c=ot(t)),r){const h=Re(t,!0,i,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else o&&(l.x=sn(o));const a=s.left+c.scrollLeft-l.x,p=s.top+c.scrollTop-l.y;return{x:a,y:p,width:s.width,height:s.height}}function lt(e){return ae(e).position==="static"}function Bt(e,t){return!de(e)||ae(e).position==="fixed"?null:t?t(e):e.offsetParent}function ln(e,t){const n=te(e);if(Et(e))return n;if(!de(e)){let o=we(e);for(;o&&!Se(o);){if(fe(o)&&!lt(o))return o;o=we(o)}return n}let r=Bt(e,t);for(;r&&Un(r)&&lt(r);)r=Bt(r,t);return r&&Se(r)&&lt(r)&&!wt(r)?n:r||Zn(e)||n}const ar=async function(e){const t=this.getOffsetParent||ln,n=this.getDimensions,r=await n(e.floating);return{reference:ur(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function fr(e){return ae(e).direction==="rtl"}const un={convertOffsetParentRelativeRectToViewportRelativeRect:tr,getDocumentElement:pe,getClippingRect:cr,getOffsetParent:ln,getElementRects:ar,getClientRects:nr,getDimensions:lr,getScale:Ie,isElement:fe,isRTL:fr};function dr(e,t){let n=null,r;const o=pe(e);function i(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function s(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),i();const{left:a,top:p,width:h,height:m}=e.getBoundingClientRect();if(c||t(),!h||!m)return;const f=Ke(p),v=Ke(o.clientWidth-(a+h)),g=Ke(o.clientHeight-(p+m)),b=Ke(a),R={rootMargin:-f+"px "+-v+"px "+-g+"px "+-b+"px",threshold:U(0,ee(1,l))||1};let x=!0;function E(w){const S=w[0].intersectionRatio;if(S!==l){if(!x)return s();S?s(!1,S):r=setTimeout(()=>{s(!1,1e-7)},1e3)}x=!1}try{n=new IntersectionObserver(E,{...R,root:o.ownerDocument})}catch{n=new IntersectionObserver(E,R)}n.observe(e)}return s(!0),i}function mr(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,a=Rt(e),p=o||i?[...a?ge(a):[],...ge(t)]:[];p.forEach(y=>{o&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const h=a&&c?dr(a,n):null;let m=-1,f=null;s&&(f=new ResizeObserver(y=>{let[R]=y;R&&R.target===a&&f&&(f.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var x;(x=f)==null||x.observe(t)})),n()}),a&&!l&&f.observe(a),f.observe(t));let v,g=l?Re(e):null;l&&b();function b(){const y=Re(e);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&n(),g=y,v=requestAnimationFrame(b)}return n(),()=>{var y;p.forEach(R=>{o&&R.removeEventListener("scroll",n),i&&R.removeEventListener("resize",n)}),h==null||h(),(y=f)==null||y.disconnect(),f=null,l&&cancelAnimationFrame(v)}}const Ye=xe,an=Yn,gr=Vn,pr=Xn,hr=Wn,vr=Gn,br=$n,Ht=Hn,yr=jn,wr=qn,fn=(e,t,n)=>{const r=new Map,o={platform:un,...n},i={...o.platform,_c:r};return Bn(e,t,{...o,platform:i})},xr=e=>{const{element:t,padding:n}=e;function r(o){return Object.prototype.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){return r(t)?t.current!=null?Ht({element:t.current,padding:n}).fn(o):{}:t?Ht({element:t,padding:n}).fn(o):{}}}};var Xe=typeof document<"u"?d.useLayoutEffect:d.useEffect;function et(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!et(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!et(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function _t(e){const t=d.useRef(e);return Xe(()=>{t.current=e}),t}function Rr(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,whileElementsMounted:i,open:s}=e,[c,l]=d.useState({x:null,y:null,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[a,p]=d.useState(r);et(a,r)||p(r);const h=d.useRef(null),m=d.useRef(null),f=d.useRef(c),v=_t(i),g=_t(o),[b,y]=d.useState(null),[R,x]=d.useState(null),E=d.useCallback(T=>{h.current!==T&&(h.current=T,y(T))},[]),w=d.useCallback(T=>{m.current!==T&&(m.current=T,x(T))},[]),S=d.useCallback(()=>{if(!h.current||!m.current)return;const T={placement:t,strategy:n,middleware:a};g.current&&(T.platform=g.current),fn(h.current,m.current,T).then(u=>{const M={...u,isPositioned:!0};F.current&&!et(f.current,M)&&(f.current=M,be.flushSync(()=>{l(M)}))})},[a,t,n,g]);Xe(()=>{s===!1&&f.current.isPositioned&&(f.current.isPositioned=!1,l(T=>({...T,isPositioned:!1})))},[s]);const F=d.useRef(!1);Xe(()=>(F.current=!0,()=>{F.current=!1}),[]),Xe(()=>{if(b&&R){if(v.current)return v.current(b,R,S);S()}},[b,R,S,v]);const H=d.useMemo(()=>({reference:h,floating:m,setReference:E,setFloating:w}),[E,w]),L=d.useMemo(()=>({reference:b,floating:R}),[b,R]);return d.useMemo(()=>({...c,update:S,refs:H,elements:L,reference:E,floating:w}),[c,S,H,L,E,w])}var z=typeof document<"u"?d.useLayoutEffect:d.useEffect;let ut=!1,Er=0;const Vt=()=>"floating-ui-"+Er++;function Tr(){const[e,t]=d.useState(()=>ut?Vt():void 0);return z(()=>{e==null&&t(Vt())},[]),d.useEffect(()=>{ut||(ut=!0)},[]),e}const Or=Zt.useId,_e=Or||Tr;function dn(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter(r=>r!==n))}}}const mn=d.createContext(null),gn=d.createContext(null),De=()=>{var e;return((e=d.useContext(mn))==null?void 0:e.id)||null},Ce=()=>d.useContext(gn),Cr=e=>{const t=_e(),n=Ce(),r=De(),o=e||r;return z(()=>{const i={id:t,parentId:o};return n==null||n.addNode(i),()=>{n==null||n.removeNode(i)}},[n,t,o]),t},Pr=e=>{let{children:t,id:n}=e;const r=De();return d.createElement(mn.Provider,{value:d.useMemo(()=>({id:n,parentId:r}),[n,r])},t)},Ir=e=>{let{children:t}=e;const n=d.useRef([]),r=d.useCallback(s=>{n.current=[...n.current,s]},[]),o=d.useCallback(s=>{n.current=n.current.filter(c=>c!==s)},[]),i=d.useState(()=>dn())[0];return d.createElement(gn.Provider,{value:d.useMemo(()=>({nodesRef:n,addNode:r,removeNode:o,events:i}),[n,r,o,i])},t)};function J(e){return(e==null?void 0:e.ownerDocument)||document}function Tt(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function pn(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function Ot(e){return J(e).defaultView||window}function ie(e){return e?e instanceof Ot(e).Element:!1}function Ee(e){return e?e instanceof Ot(e).HTMLElement:!1}function Ar(e){if(typeof ShadowRoot>"u")return!1;const t=Ot(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function hn(e){if(e.mozInputSource===0&&e.isTrusted)return!0;const t=/Android/i;return(t.test(Tt())||t.test(pn()))&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function vn(e){return e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType!=="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0}function gt(){return/apple/i.test(navigator.vendor)}function bn(){return Tt().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function tt(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function se(e){const t=d.useRef(e);return z(()=>{t.current=e}),t}const Wt="data-floating-ui-safe-polygon";function qe(e,t,n){return n&&!tt(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}const Sr=function(e,t){let{enabled:n=!0,delay:r=0,handleClose:o=null,mouseOnly:i=!1,restMs:s=0,move:c=!0}=t===void 0?{}:t;const{open:l,onOpenChange:a,dataRef:p,events:h,elements:{domReference:m,floating:f},refs:v}=e,g=Ce(),b=De(),y=se(o),R=se(r),x=d.useRef(),E=d.useRef(),w=d.useRef(),S=d.useRef(),F=d.useRef(!0),H=d.useRef(!1),L=d.useRef(()=>{}),T=d.useCallback(()=>{var O;const A=(O=p.current.openEvent)==null?void 0:O.type;return(A==null?void 0:A.includes("mouse"))&&A!=="mousedown"},[p]);d.useEffect(()=>{if(!n)return;function O(){clearTimeout(E.current),clearTimeout(S.current),F.current=!0}return h.on("dismiss",O),()=>{h.off("dismiss",O)}},[n,h]),d.useEffect(()=>{if(!n||!y.current||!l)return;function O(){T()&&a(!1)}const A=J(f).documentElement;return A.addEventListener("mouseleave",O),()=>{A.removeEventListener("mouseleave",O)}},[f,l,a,n,y,p,T]);const u=d.useCallback(function(O){O===void 0&&(O=!0);const A=qe(R.current,"close",x.current);A&&!w.current?(clearTimeout(E.current),E.current=setTimeout(()=>a(!1),A)):O&&(clearTimeout(E.current),a(!1))},[R,a]),M=d.useCallback(()=>{L.current(),w.current=void 0},[]),I=d.useCallback(()=>{if(H.current){const O=J(v.floating.current).body;O.style.pointerEvents="",O.removeAttribute(Wt),H.current=!1}},[v]);return d.useEffect(()=>{if(!n)return;function O(){return p.current.openEvent?["click","mousedown"].includes(p.current.openEvent.type):!1}function A(C){if(clearTimeout(E.current),F.current=!1,i&&!tt(x.current)||s>0&&qe(R.current,"open")===0)return;p.current.openEvent=C;const k=qe(R.current,"open",x.current);k?E.current=setTimeout(()=>{a(!0)},k):a(!0)}function N(C){if(O())return;L.current();const k=J(f);if(clearTimeout(S.current),y.current){clearTimeout(E.current),w.current=y.current({...e,tree:g,x:C.clientX,y:C.clientY,onClose(){I(),M(),u()}});const P=w.current;k.addEventListener("mousemove",P),L.current=()=>{k.removeEventListener("mousemove",P)};return}u()}function V(C){O()||y.current==null||y.current({...e,tree:g,x:C.clientX,y:C.clientY,onClose(){M(),u()}})(C)}if(ie(m)){const C=m;return l&&C.addEventListener("mouseleave",V),f==null||f.addEventListener("mouseleave",V),c&&C.addEventListener("mousemove",A,{once:!0}),C.addEventListener("mouseenter",A),C.addEventListener("mouseleave",N),()=>{l&&C.removeEventListener("mouseleave",V),f==null||f.removeEventListener("mouseleave",V),c&&C.removeEventListener("mousemove",A),C.removeEventListener("mouseenter",A),C.removeEventListener("mouseleave",N)}}},[m,f,n,e,i,s,c,u,M,I,a,l,g,R,y,p]),z(()=>{var O;if(n&&l&&(O=y.current)!=null&&O.__options.blockPointerEvents&&T()){const V=J(f).body;if(V.setAttribute(Wt,""),V.style.pointerEvents="none",H.current=!0,ie(m)&&f){var A,N;const C=m,k=g==null||(A=g.nodesRef.current.find(P=>P.id===b))==null||(N=A.context)==null?void 0:N.elements.floating;return k&&(k.style.pointerEvents=""),C.style.pointerEvents="auto",f.style.pointerEvents="auto",()=>{C.style.pointerEvents="",f.style.pointerEvents=""}}}},[n,l,b,f,m,g,y,p,T]),z(()=>{l||(x.current=void 0,M(),I())},[l,M,I]),d.useEffect(()=>()=>{M(),clearTimeout(E.current),clearTimeout(S.current),I()},[n,M,I]),d.useMemo(()=>{if(!n)return{};function O(A){x.current=A.pointerType}return{reference:{onPointerDown:O,onPointerEnter:O,onMouseMove(){l||s===0||(clearTimeout(S.current),S.current=setTimeout(()=>{F.current||a(!0)},s))}},floating:{onMouseEnter(){clearTimeout(E.current)},onMouseLeave(){h.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),u(!1)}}}},[h,n,s,l,a,u])},yn=d.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:()=>{},setState:()=>{},isInstantPhase:!1}),wn=()=>d.useContext(yn),Lr=e=>{let{children:t,delay:n,timeoutMs:r=0}=e;const[o,i]=d.useReducer((l,a)=>({...l,...a}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),s=d.useRef(null),c=d.useCallback(l=>{i({currentId:l})},[]);return z(()=>{o.currentId?s.current===null?s.current=o.currentId:i({isInstantPhase:!0}):(i({isInstantPhase:!1}),s.current=null)},[o.currentId]),d.createElement(yn.Provider,{value:d.useMemo(()=>({...o,setState:i,setCurrentId:c}),[o,i,c])},t)},Mr=(e,t)=>{let{open:n,onOpenChange:r}=e,{id:o}=t;const{currentId:i,setCurrentId:s,initialDelay:c,setState:l,timeoutMs:a}=wn();d.useEffect(()=>{i&&(l({delay:{open:1,close:qe(c,"close")}}),i!==o&&r(!1))},[o,r,l,i,c]),d.useEffect(()=>{function p(){r(!1),l({delay:c,currentId:null})}if(!n&&i===o)if(a){const h=window.setTimeout(p,a);return()=>{clearTimeout(h)}}else p()},[n,l,i,o,r,c,a]),d.useEffect(()=>{n&&s(o)},[n,s,o])};function Ve(){return Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve.apply(this,arguments)}function Te(e){let t=e.activeElement;for(;((n=t)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;t=t.shadowRoot.activeElement}return t}function Z(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Ar(n)){let r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}let $t=0;function ve(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame($t);const i=()=>e==null?void 0:e.focus({preventScroll:n});o?i():$t=requestAnimationFrame(i)}function Dr(e,t){var n;let r=[],o=(n=e.find(i=>i.id===t))==null?void 0:n.parentId;for(;o;){const i=e.find(s=>s.id===o);o=i==null?void 0:i.parentId,i&&(r=r.concat(i))}return r}function Be(e,t){let n=e.filter(o=>{var i;return o.parentId===t&&((i=o.context)==null?void 0:i.open)})||[],r=n;for(;r.length;)r=e.filter(o=>{var i;return(i=r)==null?void 0:i.some(s=>{var c;return o.parentId===s.id&&((c=o.context)==null?void 0:c.open)})})||[],n=n.concat(r);return n}function it(e){return"composedPath"in e?e.composedPath()[0]:e.target}const Fr="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function xn(e){return Ee(e)&&e.matches(Fr)}function oe(e){e.preventDefault(),e.stopPropagation()}const nt=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Rn(e,t){const n=Ue(e,nt());t==="prev"&&n.reverse();const r=n.indexOf(Te(J(e)));return n.slice(r+1)[0]}function En(){return Rn(document.body,"next")}function Tn(){return Rn(document.body,"prev")}function He(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!Z(n,r)}function kr(e){Ue(e,nt()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function Nr(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const Br=Zt.useInsertionEffect,Hr=Br||(e=>e());function Fe(e){const t=d.useRef(()=>{});return Hr(()=>{t.current=e}),d.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}const Ct={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let pt,Pt;function Kt(e){e.key==="Tab"&&(pt=e.target,clearTimeout(Pt))}function _r(e){const t=pt===e.relatedTarget;return pt=e.relatedTarget,clearTimeout(Pt),t}const rt=d.forwardRef(function(t,n){const r=Fe(t.onFocus),[o,i]=d.useState();return z(()=>(gt()&&i("button"),document.addEventListener("keydown",Kt),()=>{document.removeEventListener("keydown",Kt)}),[]),d.createElement("span",Ve({},t,{ref:n,tabIndex:0,role:o,"aria-hidden":o?void 0:!0,"data-floating-ui-focus-guard":"",style:Ct,onFocus:s=>{gt()&&bn()&&!_r(s)?(s.persist(),Pt=window.setTimeout(()=>{r(s)},50)):r(s)}}))}),On=d.createContext(null),Cn=function(e){let{id:t,enabled:n=!0}=e===void 0?{}:e;const[r,o]=d.useState(null),i=_e(),s=Pn();return z(()=>{if(!n)return;const c=t?document.getElementById(t):null;if(c)c.setAttribute("data-floating-ui-portal",""),o(c);else{const l=document.createElement("div");t!==""&&(l.id=t||i),l.setAttribute("data-floating-ui-portal",""),o(l);const a=(s==null?void 0:s.portalNode)||document.body;return a.appendChild(l),()=>{a.removeChild(l)}}},[t,s,i,n]),r},Vr=e=>{let{children:t,id:n,root:r=null,preserveTabOrder:o=!0}=e;const i=Cn({id:n,enabled:!r}),[s,c]=d.useState(null),l=d.useRef(null),a=d.useRef(null),p=d.useRef(null),h=d.useRef(null),m=!!s&&!s.modal&&!!(r||i)&&o;return d.useEffect(()=>{if(!i||!o||s!=null&&s.modal)return;function f(v){i&&He(v)&&(v.type==="focusin"?Nr:kr)(i)}return i.addEventListener("focusin",f,!0),i.addEventListener("focusout",f,!0),()=>{i.removeEventListener("focusin",f,!0),i.removeEventListener("focusout",f,!0)}},[i,o,s==null?void 0:s.modal]),d.createElement(On.Provider,{value:d.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:l,afterOutsideRef:a,beforeInsideRef:p,afterInsideRef:h,portalNode:i,setFocusManagerState:c}),[o,i])},m&&i&&d.createElement(rt,{"data-type":"outside",ref:l,onFocus:f=>{if(He(f,i)){var v;(v=p.current)==null||v.focus()}else{const g=Tn()||(s==null?void 0:s.refs.domReference.current);g==null||g.focus()}}}),m&&i&&d.createElement("span",{"aria-owns":i.id,style:Ct}),r?be.createPortal(t,r):i?be.createPortal(t,i):null,m&&i&&d.createElement(rt,{"data-type":"outside",ref:a,onFocus:f=>{if(He(f,i)){var v;(v=h.current)==null||v.focus()}else{const g=En()||(s==null?void 0:s.refs.domReference.current);g==null||g.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1))}}}))},Pn=()=>d.useContext(On),Wr=d.forwardRef(function(t,n){return d.createElement("button",Ve({},t,{type:"button",ref:n,tabIndex:-1,style:Ct}))});function $r(e){let{context:t,children:n,order:r=["content"],guards:o=!0,initialFocus:i=0,returnFocus:s=!0,modal:c=!0,visuallyHiddenDismiss:l=!1,closeOnFocusOut:a=!0}=e;const{refs:p,nodeId:h,onOpenChange:m,events:f,dataRef:v,elements:{domReference:g,floating:b}}=t,y=se(r),R=Ce(),x=Pn(),[E,w]=d.useState(null),S=typeof i=="number"&&i<0,F=d.useRef(null),H=d.useRef(null),L=d.useRef(!1),T=d.useRef(null),u=d.useRef(!1),M=x!=null,I=g&&g.getAttribute("role")==="combobox"&&xn(g),O=d.useCallback(function(C){return C===void 0&&(C=b),C?Ue(C,nt()):[]},[b]),A=d.useCallback(C=>{const k=O(C);return y.current.map(P=>g&&P==="reference"?g:b&&P==="floating"?b:k).filter(Boolean).flat()},[g,b,y,O]);d.useEffect(()=>{if(!c)return;function C(P){if(P.key==="Tab"){O().length===0&&!I&&oe(P);const D=A(),K=it(P);y.current[0]==="reference"&&K===g&&(oe(P),P.shiftKey?ve(D[D.length-1]):ve(D[1])),y.current[1]==="floating"&&K===b&&P.shiftKey&&(oe(P),ve(D[0]))}}const k=J(b);return k.addEventListener("keydown",C),()=>{k.removeEventListener("keydown",C)}},[g,b,c,y,p,I,O,A]),d.useEffect(()=>{if(!a)return;function C(){u.current=!0,setTimeout(()=>{u.current=!1})}function k(P){const D=P.relatedTarget,K=!(Z(g,D)||Z(b,D)||Z(D,b)||Z(x==null?void 0:x.portalNode,D)||D!=null&&D.hasAttribute("data-floating-ui-focus-guard")||R&&(Be(R.nodesRef.current,h).find(W=>{var j,Y;return Z((j=W.context)==null?void 0:j.elements.floating,D)||Z((Y=W.context)==null?void 0:Y.elements.domReference,D)})||Dr(R.nodesRef.current,h).find(W=>{var j,Y;return((j=W.context)==null?void 0:j.elements.floating)===D||((Y=W.context)==null?void 0:Y.elements.domReference)===D})));D&&K&&!u.current&&D!==T.current&&(L.current=!0,setTimeout(()=>m(!1)))}if(b&&Ee(g))return g.addEventListener("focusout",k),g.addEventListener("pointerdown",C),!c&&b.addEventListener("focusout",k),()=>{g.removeEventListener("focusout",k),g.removeEventListener("pointerdown",C),!c&&b.removeEventListener("focusout",k)}},[g,b,c,h,R,x,m,a]),d.useEffect(()=>{var C;const k=Array.from((x==null||(C=x.portalNode)==null?void 0:C.querySelectorAll("[data-floating-ui-portal]"))||[]);function P(){return[F.current,H.current].filter(Boolean)}if(b&&c){const D=[b,...k,...P()],K=Sn(y.current.includes("reference")||I?D.concat(g||[]):D);return()=>{K()}}},[g,b,c,y,x,I]),d.useEffect(()=>{if(c&&!o&&b){const C=[],k=nt(),P=Ue(J(b).body,k),D=A(),K=P.filter(W=>!D.includes(W));return K.forEach((W,j)=>{C[j]=W.getAttribute("tabindex"),W.setAttribute("tabindex","-1")}),()=>{K.forEach((W,j)=>{const Y=C[j];Y==null?W.removeAttribute("tabindex"):W.setAttribute("tabindex",Y)})}}},[b,c,o,A]),z(()=>{if(!b)return;const C=J(b);let k=s,P=!1;const D=Te(C),K=v.current;T.current=D;const W=A(b),j=(typeof i=="number"?W[i]:i.current)||b;!S&&ve(j,{preventScroll:j===b});function Y(B){if(B.type==="escapeKey"&&p.domReference.current&&(T.current=p.domReference.current),["referencePress","escapeKey"].includes(B.type))return;const Q=B.data.returnFocus;typeof Q=="object"?(k=!0,P=Q.preventScroll):k=Q}return f.on("dismiss",Y),()=>{if(f.off("dismiss",Y),Z(b,Te(C))&&p.domReference.current&&(T.current=p.domReference.current),k&&Ee(T.current)&&!L.current)if(!p.domReference.current||u.current)ve(T.current,{cancelPrevious:!1,preventScroll:P});else{var B;K.__syncReturnFocus=!0,(B=T.current)==null||B.focus({preventScroll:P}),setTimeout(()=>{delete K.__syncReturnFocus})}}},[b,A,i,s,v,p,f,S]),z(()=>{if(x)return x.setFocusManagerState({...t,modal:c,closeOnFocusOut:a}),()=>{x.setFocusManagerState(null)}},[x,c,a,t]),z(()=>{if(S||!b)return;function C(){w(O().length)}if(C(),typeof MutationObserver=="function"){const k=new MutationObserver(C);return k.observe(b,{childList:!0,subtree:!0}),()=>{k.disconnect()}}},[b,O,S,p]);const N=o&&(M||c)&&!I;function V(C){return l&&c?d.createElement(Wr,{ref:C==="start"?F:H,onClick:()=>m(!1)},typeof l=="string"?l:"Dismiss"):null}return d.createElement(d.Fragment,null,N&&d.createElement(rt,{"data-type":"inside",ref:x==null?void 0:x.beforeInsideRef,onFocus:C=>{if(c){const P=A();ve(r[0]==="reference"?P[0]:P[P.length-1])}else if(x!=null&&x.preserveTabOrder&&x.portalNode)if(L.current=!1,He(C,x.portalNode)){const P=En()||g;P==null||P.focus()}else{var k;(k=x.beforeOutsideRef.current)==null||k.focus()}}}),I?null:V("start"),d.cloneElement(n,E===0||r.includes("floating")?{tabIndex:0}:{}),V("end"),N&&d.createElement(rt,{"data-type":"inside",ref:x==null?void 0:x.afterInsideRef,onFocus:C=>{if(c)ve(A()[0]);else if(x!=null&&x.preserveTabOrder&&x.portalNode)if(L.current=!0,He(C,x.portalNode)){const P=Tn()||g;P==null||P.focus()}else{var k;(k=x.afterOutsideRef.current)==null||k.focus()}}}))}const je="data-floating-ui-scroll-lock",Kr=d.forwardRef(function(t,n){let{lockScroll:r=!1,...o}=t;return z(()=>{var i,s;if(!r||document.body.hasAttribute(je))return;document.body.setAttribute(je,"");const a=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",p=window.innerWidth-document.documentElement.clientWidth;if(!/iP(hone|ad|od)|iOS/.test(Tt()))return Object.assign(document.body.style,{overflow:"hidden",[a]:p+"px"}),()=>{document.body.removeAttribute(je),Object.assign(document.body.style,{overflow:"",[a]:""})};const h=((i=window.visualViewport)==null?void 0:i.offsetLeft)||0,m=((s=window.visualViewport)==null?void 0:s.offsetTop)||0,f=window.pageXOffset,v=window.pageYOffset;return Object.assign(document.body.style,{position:"fixed",overflow:"hidden",top:-(v-Math.floor(m))+"px",left:-(f-Math.floor(h))+"px",right:"0",[a]:p+"px"}),()=>{Object.assign(document.body.style,{position:"",overflow:"",top:"",left:"",right:"",[a]:""}),document.body.removeAttribute(je),window.scrollTo(f,v)}},[r]),d.createElement("div",Ve({ref:n},o,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...o.style}}))});function jt(e){return Ee(e.target)&&e.target.tagName==="BUTTON"}function zt(e){return xn(e)}const jr=function(e,t){let{open:n,onOpenChange:r,dataRef:o,elements:{domReference:i}}=e,{enabled:s=!0,event:c="click",toggle:l=!0,ignoreMouse:a=!1,keyboardHandlers:p=!0}=t===void 0?{}:t;const h=d.useRef();return d.useMemo(()=>s?{reference:{onPointerDown(m){h.current=m.pointerType},onMouseDown(m){m.button===0&&(tt(h.current,!0)&&a||c!=="click"&&(n?l&&(!o.current.openEvent||o.current.openEvent.type==="mousedown")&&r(!1):(m.preventDefault(),r(!0)),o.current.openEvent=m.nativeEvent))},onClick(m){if(!o.current.__syncReturnFocus){if(c==="mousedown"&&h.current){h.current=void 0;return}tt(h.current,!0)&&a||(n?l&&(!o.current.openEvent||o.current.openEvent.type==="click")&&r(!1):r(!0),o.current.openEvent=m.nativeEvent)}},onKeyDown(m){h.current=void 0,p&&(jt(m)||(m.key===" "&&!zt(i)&&m.preventDefault(),m.key==="Enter"&&(n?l&&r(!1):r(!0))))},onKeyUp(m){p&&(jt(m)||zt(i)||m.key===" "&&(n?l&&r(!1):r(!0)))}}}:{},[s,o,c,a,p,i,l,n,r])};function Ge(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const zr={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Yr={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Xr=function(e){var t,n;return e===void 0&&(e=!0),{escapeKeyBubbles:typeof e=="boolean"?e:(t=e.escapeKey)!=null?t:!0,outsidePressBubbles:typeof e=="boolean"?e:(n=e.outsidePress)!=null?n:!0}},qr=function(e,t){let{open:n,onOpenChange:r,events:o,nodeId:i,elements:{reference:s,domReference:c,floating:l},dataRef:a}=e,{enabled:p=!0,escapeKey:h=!0,outsidePress:m=!0,outsidePressEvent:f="pointerdown",referencePress:v=!1,referencePressEvent:g="pointerdown",ancestorScroll:b=!1,bubbles:y=!0}=t===void 0?{}:t;const R=Ce(),x=De()!=null,E=Fe(typeof m=="function"?m:()=>!1),w=typeof m=="function"?E:m,S=d.useRef(!1),{escapeKeyBubbles:F,outsidePressBubbles:H}=Xr(y);return d.useEffect(()=>{if(!n||!p)return;a.current.__escapeKeyBubbles=F,a.current.__outsidePressBubbles=H;function L(O){if(O.key==="Escape"){const A=R?Be(R.nodesRef.current,i):[];if(A.length>0){let N=!0;if(A.forEach(V=>{var C;if((C=V.context)!=null&&C.open&&!V.context.dataRef.current.__escapeKeyBubbles){N=!1;return}}),!N)return}o.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1)}}function T(O){const A=S.current;if(S.current=!1,A||typeof w=="function"&&!w(O))return;const N=it(O);if(Ee(N)&&l){const k=l.ownerDocument.defaultView||window,P=N.scrollWidth>N.clientWidth,D=N.scrollHeight>N.clientHeight;let K=D&&O.offsetX>N.clientWidth;if(D&&k.getComputedStyle(N).direction==="rtl"&&(K=O.offsetX<=N.offsetWidth-N.clientWidth),K||P&&O.offsetY>N.clientHeight)return}const V=R&&Be(R.nodesRef.current,i).some(k=>{var P;return Ge(O,(P=k.context)==null?void 0:P.elements.floating)});if(Ge(O,l)||Ge(O,c)||V)return;const C=R?Be(R.nodesRef.current,i):[];if(C.length>0){let k=!0;if(C.forEach(P=>{var D;if((D=P.context)!=null&&D.open&&!P.context.dataRef.current.__outsidePressBubbles){k=!1;return}}),!k)return}o.emit("dismiss",{type:"outsidePress",data:{returnFocus:x?{preventScroll:!0}:hn(O)||vn(O)}}),r(!1)}function u(){r(!1)}const M=J(l);h&&M.addEventListener("keydown",L),w&&M.addEventListener(f,T);let I=[];return b&&(ie(c)&&(I=ge(c)),ie(l)&&(I=I.concat(ge(l))),!ie(s)&&s&&s.contextElement&&(I=I.concat(ge(s.contextElement)))),I=I.filter(O=>{var A;return O!==((A=M.defaultView)==null?void 0:A.visualViewport)}),I.forEach(O=>{O.addEventListener("scroll",u,{passive:!0})}),()=>{h&&M.removeEventListener("keydown",L),w&&M.removeEventListener(f,T),I.forEach(O=>{O.removeEventListener("scroll",u)})}},[a,l,c,s,h,w,f,o,R,i,n,r,b,p,F,H,x]),d.useEffect(()=>{S.current=!1},[w,f]),d.useMemo(()=>p?{reference:{[zr[g]]:()=>{v&&(o.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1))}},floating:{[Yr[f]]:()=>{S.current=!0}}}:{},[p,o,v,f,g,r])},Gr=function(e,t){let{open:n,onOpenChange:r,dataRef:o,events:i,refs:s,elements:{floating:c,domReference:l}}=e,{enabled:a=!0,keyboardOnly:p=!0}=t===void 0?{}:t;const h=d.useRef(""),m=d.useRef(!1),f=d.useRef();return d.useEffect(()=>{if(!a)return;const g=J(c).defaultView||window;function b(){!n&&Ee(l)&&l===Te(J(l))&&(m.current=!0)}return g.addEventListener("blur",b),()=>{g.removeEventListener("blur",b)}},[c,l,n,a]),d.useEffect(()=>{if(!a)return;function v(g){(g.type==="referencePress"||g.type==="escapeKey")&&(m.current=!0)}return i.on("dismiss",v),()=>{i.off("dismiss",v)}},[i,a]),d.useEffect(()=>()=>{clearTimeout(f.current)},[]),d.useMemo(()=>a?{reference:{onPointerDown(v){let{pointerType:g}=v;h.current=g,m.current=!!(g&&p)},onMouseLeave(){m.current=!1},onFocus(v){var g;m.current||v.type==="focus"&&((g=o.current.openEvent)==null?void 0:g.type)==="mousedown"&&o.current.openEvent&&Ge(o.current.openEvent,l)||(o.current.openEvent=v.nativeEvent,r(!0))},onBlur(v){m.current=!1;const g=v.relatedTarget,b=ie(g)&&g.hasAttribute("data-floating-ui-focus-guard")&&g.getAttribute("data-type")==="outside";f.current=setTimeout(()=>{Z(s.floating.current,g)||Z(l,g)||b||r(!1)})}}}:{},[a,p,l,s,o,r])};let Yt=!1;const It="ArrowUp",st="ArrowDown",Le="ArrowLeft",$e="ArrowRight";function ze(e,t,n){return Math.floor(e/t)!==n}function Ne(e,t){return t<0||t>=e.current.length}function G(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:o,amount:i=1}=t===void 0?{}:t;const s=e.current;let c=n;do{var l,a;c=c+(r?-i:i)}while(c>=0&&c<=s.length-1&&(o?o.includes(c):s[c]==null||(l=s[c])!=null&&l.hasAttribute("disabled")||((a=s[c])==null?void 0:a.getAttribute("aria-disabled"))==="true"));return c}function ct(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function Xt(e,t){return ct(t,e===It||e===st,e===Le||e===$e)}function at(e,t,n){return ct(t,e===st,n?e===Le:e===$e)||e==="Enter"||e==" "||e===""}function Ur(e,t,n){return ct(t,n?e===Le:e===$e,e===st)}function Zr(e,t,n){return ct(t,n?e===$e:e===Le,e===It)}function ft(e,t){return G(e,{disabledIndices:t})}function qt(e,t){return G(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}const Jr=function(e,t){let{open:n,onOpenChange:r,refs:o,elements:{domReference:i}}=e,{listRef:s,activeIndex:c,onNavigate:l=()=>{},enabled:a=!0,selectedIndex:p=null,allowEscape:h=!1,loop:m=!1,nested:f=!1,rtl:v=!1,virtual:g=!1,focusItemOnOpen:b="auto",focusItemOnHover:y=!0,openOnArrowKeyDown:R=!0,disabledIndices:x=void 0,orientation:E="vertical",cols:w=1,scrollItemIntoView:S=!0}=t===void 0?{listRef:{current:[]},activeIndex:null,onNavigate:()=>{}}:t;const F=De(),H=Ce(),L=Fe(l),T=d.useRef(b),u=d.useRef(p??-1),M=d.useRef(null),I=d.useRef(!0),O=d.useRef(L),A=d.useRef(n),N=d.useRef(!1),V=d.useRef(!1),C=se(x),k=se(n),P=se(S),[D,K]=d.useState(),W=d.useCallback(function(B,Q,X){X===void 0&&(X=!1);const q=B.current[Q.current];g?K(q==null?void 0:q.id):ve(q,{preventScroll:!0,sync:bn()&&gt()?Yt||N.current:!1}),requestAnimationFrame(()=>{const Pe=P.current;Pe&&q&&(X||!I.current)&&(q.scrollIntoView==null||q.scrollIntoView(typeof Pe=="boolean"?{block:"nearest",inline:"nearest"}:Pe))})},[g,P]);z(()=>{document.createElement("div").focus({get preventScroll(){return Yt=!0,!1}})},[]),z(()=>{a&&(n?T.current&&p!=null&&(V.current=!0,L(p)):A.current&&(u.current=-1,O.current(null)))},[a,n,p,L]),z(()=>{if(a&&n)if(c==null){if(N.current=!1,p!=null)return;A.current&&(u.current=-1,W(s,u)),!A.current&&T.current&&(M.current!=null||T.current===!0&&M.current==null)&&(u.current=M.current==null||at(M.current,E,v)||f?ft(s,C.current):qt(s,C.current),L(u.current))}else Ne(s,c)||(u.current=c,W(s,u,V.current),V.current=!1)},[a,n,c,p,f,s,E,v,L,W,C]),z(()=>{if(a&&A.current&&!n){var B,Q;const X=H==null||(B=H.nodesRef.current.find(q=>q.id===F))==null||(Q=B.context)==null?void 0:Q.elements.floating;X&&!Z(X,Te(J(X)))&&X.focus({preventScroll:!0})}},[a,n,H,F]),z(()=>{M.current=null,O.current=L,A.current=n});const j=c!=null,Y=d.useMemo(()=>{function B(X){if(!n)return;const q=s.current.indexOf(X);q!==-1&&L(q)}return{onFocus(X){let{currentTarget:q}=X;B(q)},onClick:X=>{let{currentTarget:q}=X;return q.focus({preventScroll:!0})},...y&&{onMouseMove(X){let{currentTarget:q}=X;B(q)},onPointerLeave(){if(I.current&&(u.current=-1,W(s,u),be.flushSync(()=>L(null)),!g)){var X;(X=o.floating.current)==null||X.focus({preventScroll:!0})}}}}},[n,o,W,y,s,L,g]);return d.useMemo(()=>{if(!a)return{};const B=C.current;function Q(_){if(I.current=!1,N.current=!0,!k.current&&_.currentTarget===o.floating.current)return;if(f&&Zr(_.key,E,v)){oe(_),r(!1),Ee(i)&&i.focus();return}const ce=u.current,he=ft(s,B),re=qt(s,B);if(_.key==="Home"&&(u.current=he,L(u.current)),_.key==="End"&&(u.current=re,L(u.current)),w>1){const $=u.current;if(_.key===It){if(oe(_),$===-1)u.current=re;else if(u.current=G(s,{startingIndex:$,amount:w,decrement:!0,disabledIndices:B}),m&&($-w<he||u.current<0)){const me=$%w,ke=re%w,At=re-(ke-me);ke===me?u.current=re:u.current=ke>me?At:At-w}Ne(s,u.current)&&(u.current=$),L(u.current)}if(_.key===st&&(oe(_),$===-1?u.current=he:(u.current=G(s,{startingIndex:$,amount:w,disabledIndices:B}),m&&$+w>re&&(u.current=G(s,{startingIndex:$%w-w,amount:w,disabledIndices:B}))),Ne(s,u.current)&&(u.current=$),L(u.current)),E==="both"){const me=Math.floor($/w);_.key===$e&&(oe(_),$%w!==w-1?(u.current=G(s,{startingIndex:$,disabledIndices:B}),m&&ze(u.current,w,me)&&(u.current=G(s,{startingIndex:$-$%w-1,disabledIndices:B}))):m&&(u.current=G(s,{startingIndex:$-$%w-1,disabledIndices:B})),ze(u.current,w,me)&&(u.current=$)),_.key===Le&&(oe(_),$%w!==0?(u.current=G(s,{startingIndex:$,disabledIndices:B,decrement:!0}),m&&ze(u.current,w,me)&&(u.current=G(s,{startingIndex:$+(w-$%w),decrement:!0,disabledIndices:B}))):m&&(u.current=G(s,{startingIndex:$+(w-$%w),decrement:!0,disabledIndices:B})),ze(u.current,w,me)&&(u.current=$));const ke=Math.floor(re/w)===me;Ne(s,u.current)&&(m&&ke?u.current=_.key===Le?re:G(s,{startingIndex:$-$%w-1,disabledIndices:B}):u.current=$),L(u.current);return}}if(Xt(_.key,E)){if(oe(_),n&&!g&&Te(_.currentTarget.ownerDocument)===_.currentTarget){u.current=at(_.key,E,v)?he:re,L(u.current);return}at(_.key,E,v)?m?u.current=ce>=re?h&&ce!==s.current.length?-1:he:G(s,{startingIndex:ce,disabledIndices:B}):u.current=Math.min(re,G(s,{startingIndex:ce,disabledIndices:B})):m?u.current=ce<=he?h&&ce!==-1?s.current.length:re:G(s,{startingIndex:ce,decrement:!0,disabledIndices:B}):u.current=Math.max(he,G(s,{startingIndex:ce,decrement:!0,disabledIndices:B})),Ne(s,u.current)?L(null):L(u.current)}}function X(_){b==="auto"&&hn(_.nativeEvent)&&(T.current=!0)}function q(_){T.current=b,b==="auto"&&vn(_.nativeEvent)&&(T.current=!0)}const Pe=g&&n&&j&&{"aria-activedescendant":D};return{reference:{...Pe,onKeyDown(_){I.current=!1;const ce=_.key.indexOf("Arrow")===0;if(g&&n)return Q(_);if(!n&&!R&&ce)return;if((ce||_.key==="Enter"||_.key===" "||_.key==="")&&(M.current=_.key),f){Ur(_.key,E,v)&&(oe(_),n?(u.current=ft(s,B),L(u.current)):r(!0));return}Xt(_.key,E)&&(p!=null&&(u.current=p),oe(_),!n&&R?r(!0):Q(_),n&&L(u.current))},onFocus(){n&&L(null)},onPointerDown:q,onMouseDown:X,onClick:X},floating:{"aria-orientation":E==="both"?void 0:E,...Pe,onKeyDown:Q,onPointerMove(){I.current=!0}},item:Y}},[i,o,D,C,k,s,a,E,v,g,n,j,f,p,R,h,w,m,b,L,r,Y])};function Qr(e){return d.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const eo=function(e,t){let{open:n}=e,{enabled:r=!0,role:o="dialog"}=t===void 0?{}:t;const i=_e(),s=_e();return d.useMemo(()=>{const c={id:i,role:o};return r?o==="tooltip"?{reference:{"aria-describedby":n?i:void 0},floating:c}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":o==="alertdialog"?"dialog":o,"aria-controls":n?i:void 0,...o==="listbox"&&{role:"combobox"},...o==="menu"&&{id:s}},floating:{...c,...o==="menu"&&{"aria-labelledby":s}}}:{}},[r,o,n,i,s])},Gt=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(t,n)=>(n?"-":"")+t.toLowerCase());function to(e,t){const[n,r]=d.useState(e);return e&&!n&&r(!0),d.useEffect(()=>{if(!e){const o=setTimeout(()=>r(!1),t);return()=>clearTimeout(o)}},[e,t]),n}function In(e,t){let{open:n,elements:{floating:r}}=e,{duration:o=250}=t===void 0?{}:t;const s=(typeof o=="number"?o:o.close)||0,[c,l]=d.useState(!1),[a,p]=d.useState("unmounted"),h=to(n,s);return z(()=>{c&&!h&&p("unmounted")},[c,h]),z(()=>{if(r)if(n){p("initial");const m=requestAnimationFrame(()=>{p("open")});return()=>{cancelAnimationFrame(m)}}else l(!0),p("close")},[n,r]),{isMounted:h,status:a}}function no(e,t){let{initial:n={opacity:0},open:r,close:o,common:i,duration:s=250}=t===void 0?{}:t;const c=e.placement,l=c.split("-")[0],[a,p]=d.useState({}),{isMounted:h,status:m}=In(e,{duration:s}),f=se(n),v=se(r),g=se(o),b=se(i),y=typeof s=="number",R=(y?s:s.open)||0,x=(y?s:s.close)||0;return z(()=>{const E={side:l,placement:c},w=f.current,S=g.current,F=v.current,H=b.current,L=typeof w=="function"?w(E):w,T=typeof S=="function"?S(E):S,u=typeof H=="function"?H(E):H,M=(typeof F=="function"?F(E):F)||Object.keys(L).reduce((I,O)=>(I[O]="",I),{});if(m==="initial"&&p(I=>({transitionProperty:I.transitionProperty,...u,...L})),m==="open"&&p({transitionProperty:Object.keys(M).map(Gt).join(","),transitionDuration:R+"ms",...u,...M}),m==="close"){const I=T||L;p({transitionProperty:Object.keys(I).map(Gt).join(","),transitionDuration:x+"ms",...u,...I})}},[l,c,x,g,f,v,b,R,m]),{isMounted:h,styles:a}}const ro=function(e,t){var n;let{open:r,dataRef:o}=e,{listRef:i,activeIndex:s,onMatch:c=()=>{},enabled:l=!0,findMatch:a=null,resetMs:p=1e3,ignoreKeys:h=[],selectedIndex:m=null}=t===void 0?{listRef:{current:[]},activeIndex:null}:t;const f=d.useRef(),v=d.useRef(""),g=d.useRef((n=m??s)!=null?n:-1),b=d.useRef(null),y=Fe(c),R=se(a),x=se(h);return z(()=>{r&&(clearTimeout(f.current),b.current=null,v.current="")},[r]),z(()=>{if(r&&v.current===""){var E;g.current=(E=m??s)!=null?E:-1}},[r,m,s]),d.useMemo(()=>{if(!l)return{};function E(w){const S=it(w.nativeEvent);if(ie(S)&&(Te(J(S))!==w.currentTarget&&S.closest('[role="dialog"],[role="menu"],[role="listbox"],[role="tree"],[role="grid"]')!==w.currentTarget))return;v.current.length>0&&v.current[0]!==" "&&(o.current.typing=!0,w.key===" "&&oe(w));const F=i.current;if(F==null||x.current.includes(w.key)||w.key.length!==1||w.ctrlKey||w.metaKey||w.altKey)return;F.every(I=>{var O,A;return I?((O=I[0])==null?void 0:O.toLocaleLowerCase())!==((A=I[1])==null?void 0:A.toLocaleLowerCase()):!0})&&v.current===w.key&&(v.current="",g.current=b.current),v.current+=w.key,clearTimeout(f.current),f.current=setTimeout(()=>{v.current="",g.current=b.current,o.current.typing=!1},p);const L=g.current,T=[...F.slice((L||0)+1),...F.slice(0,(L||0)+1)],u=R.current?R.current(T,v.current):T.find(I=>(I==null?void 0:I.toLocaleLowerCase().indexOf(v.current.toLocaleLowerCase()))===0),M=u?F.indexOf(u):-1;M!==-1&&(y(M),b.current=M)}return{reference:{onKeyDown:E},floating:{onKeyDown:E}}},[l,o,i,p,x,R,y])};function Ut(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const oo=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:o,offset:i=0,index:s=0,minItemsVisible:c=4,referenceOverflowThreshold:l=0,scrollRef:a,...p}=e,{rects:h,elements:{floating:m}}=t,f=n.current[s];if(!f)return{};const v={...t,...await an(-f.offsetTop-h.reference.height/2-f.offsetHeight/2-i).fn(t)},g=(a==null?void 0:a.current)||m,b=await Ye(Ut(v,g.scrollHeight),p),y=await Ye(v,{...p,elementContext:"reference"}),R=Math.max(0,b.top),x=v.y+R,E=Math.max(0,g.scrollHeight-R-Math.max(0,b.bottom));return g.style.maxHeight=E+"px",g.scrollTop=R,o&&(g.offsetHeight<f.offsetHeight*Math.min(c,n.current.length-1)-1||y.top>=-l||y.bottom>=-l?be.flushSync(()=>o(!0)):be.flushSync(()=>o(!1))),r&&(r.current=await Ye(Ut({...v,y:x},g.offsetHeight),p)),{y:x}}}),io=(e,t)=>{let{open:n,elements:r}=e,{enabled:o=!0,overflowRef:i,scrollRef:s,onChange:c}=t;const l=Fe(c),a=d.useRef(!1),p=d.useRef(null),h=d.useRef(null);return d.useEffect(()=>{if(!o)return;function m(v){if(v.ctrlKey||!f||i.current==null)return;const g=v.deltaY,b=i.current.top>=-.5,y=i.current.bottom>=-.5,R=f.scrollHeight-f.clientHeight,x=g<0?-1:1,E=g<0?"max":"min";f.scrollHeight<=f.clientHeight||(!b&&g>0||!y&&g<0?(v.preventDefault(),be.flushSync(()=>{l(w=>w+Math[E](g,R*x))})):/firefox/i.test(pn())&&(f.scrollTop+=g))}const f=(s==null?void 0:s.current)||r.floating;if(n&&f)return f.addEventListener("wheel",m),requestAnimationFrame(()=>{p.current=f.scrollTop,i.current!=null&&(h.current={...i.current})}),()=>{p.current=null,h.current=null,f.removeEventListener("wheel",m)}},[o,n,r.floating,i,s,l]),d.useMemo(()=>o?{floating:{onKeyDown(){a.current=!0},onWheel(){a.current=!1},onPointerMove(){a.current=!1},onScroll(){const m=(s==null?void 0:s.current)||r.floating;if(!(!i.current||!m||!a.current)){if(p.current!==null){const f=m.scrollTop-p.current;(i.current.bottom<-.5&&f<-1||i.current.top<-.5&&f>1)&&be.flushSync(()=>l(v=>v+f))}requestAnimationFrame(()=>{p.current=m.scrollTop})}}}}:{},[o,i,r.floating,s,l])};function so(e,t){const[n,r]=e;let o=!1;const i=t.length;for(let s=0,c=i-1;s<i;c=s++){const[l,a]=t[s]||[0,0],[p,h]=t[c]||[0,0];a>=r!=h>=r&&n<=(p-l)*(r-a)/(h-a)+l&&(o=!o)}return o}function co(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function lo(e){let{restMs:t=0,buffer:n=.5,blockPointerEvents:r=!1}=e===void 0?{}:e,o,i=!1,s=!1;const c=l=>{let{x:a,y:p,placement:h,elements:m,onClose:f,nodeId:v,tree:g}=l;return function(y){function R(){clearTimeout(o),f()}if(clearTimeout(o),!m.domReference||!m.floating||h==null||a==null||p==null)return;const{clientX:x,clientY:E}=y,w=[x,E],S=it(y),F=y.type==="mouseleave",H=Z(m.floating,S),L=Z(m.domReference,S),T=m.domReference.getBoundingClientRect(),u=m.floating.getBoundingClientRect(),M=h.split("-")[0],I=a>u.right-u.width/2,O=p>u.bottom-u.height/2,A=co(w,T);if(H&&(s=!0),L&&(s=!1),L&&!F){s=!0;return}if(F&&ie(y.relatedTarget)&&Z(m.floating,y.relatedTarget)||g&&Be(g.nodesRef.current,v).some(k=>{let{context:P}=k;return P==null?void 0:P.open}))return;if(M==="top"&&p>=T.bottom-1||M==="bottom"&&p<=T.top+1||M==="left"&&a>=T.right-1||M==="right"&&a<=T.left+1)return R();let N=[];switch(M){case"top":N=[[u.left,T.top+1],[u.left,u.bottom-1],[u.right,u.bottom-1],[u.right,T.top+1]],i=x>=u.left&&x<=u.right&&E>=u.top&&E<=T.top+1;break;case"bottom":N=[[u.left,u.top+1],[u.left,T.bottom-1],[u.right,T.bottom-1],[u.right,u.top+1]],i=x>=u.left&&x<=u.right&&E>=T.bottom-1&&E<=u.bottom;break;case"left":N=[[u.right-1,u.bottom],[u.right-1,u.top],[T.left+1,u.top],[T.left+1,u.bottom]],i=x>=u.left&&x<=T.left+1&&E>=u.top&&E<=u.bottom;break;case"right":N=[[T.right-1,u.bottom],[T.right-1,u.top],[u.left+1,u.top],[u.left+1,u.bottom]],i=x>=T.right-1&&x<=u.right&&E>=u.top&&E<=u.bottom;break}function V(k){let[P,D]=k;const K=u.width>T.width,W=u.height>T.height;switch(M){case"top":{const j=[K?P+n/2:I?P+n*4:P-n*4,D+n+1],Y=[K?P-n/2:I?P+n*4:P-n*4,D+n+1],B=[[u.left,I||K?u.bottom-n:u.top],[u.right,I?K?u.bottom-n:u.top:u.bottom-n]];return[j,Y,...B]}case"bottom":{const j=[K?P+n/2:I?P+n*4:P-n*4,D-n],Y=[K?P-n/2:I?P+n*4:P-n*4,D-n],B=[[u.left,I||K?u.top+n:u.bottom],[u.right,I?K?u.top+n:u.bottom:u.top+n]];return[j,Y,...B]}case"left":{const j=[P+n+1,W?D+n/2:O?D+n*4:D-n*4],Y=[P+n+1,W?D-n/2:O?D+n*4:D-n*4];return[...[[O||W?u.right-n:u.left,u.top],[O?W?u.right-n:u.left:u.right-n,u.bottom]],j,Y]}case"right":{const j=[P-n,W?D+n/2:O?D+n*4:D-n*4],Y=[P-n,W?D-n/2:O?D+n*4:D-n*4],B=[[O||W?u.left+n:u.right,u.top],[O?W?u.left+n:u.right:u.left+n,u.bottom]];return[j,Y,...B]}}}const C=i?N:V([a,p]);if(!i){if(s&&!A)return R();so([x,E],C)?t&&!s&&(o=setTimeout(R,t)):R()}}};return c.__options={blockPointerEvents:r},c}function uo(e){e===void 0&&(e={});const{open:t=!1,onOpenChange:n,nodeId:r}=e,o=Rr(e),i=Ce(),s=d.useRef(null),c=d.useRef({}),l=d.useState(()=>dn())[0],[a,p]=d.useState(null),h=d.useCallback(y=>{const R=ie(y)?{getBoundingClientRect:()=>y.getBoundingClientRect(),contextElement:y}:y;o.refs.setReference(R)},[o.refs]),m=d.useCallback(y=>{(ie(y)||y===null)&&(s.current=y,p(y)),(ie(o.refs.reference.current)||o.refs.reference.current===null||y!==null&&!ie(y))&&o.refs.setReference(y)},[o.refs]),f=d.useMemo(()=>({...o.refs,setReference:m,setPositionReference:h,domReference:s}),[o.refs,m,h]),v=d.useMemo(()=>({...o.elements,domReference:a}),[o.elements,a]),g=Fe(n),b=d.useMemo(()=>({...o,refs:f,elements:v,dataRef:c,nodeId:r,events:l,open:t,onOpenChange:g}),[o,r,l,t,g,f,v]);return z(()=>{const y=i==null?void 0:i.nodesRef.current.find(R=>R.id===r);y&&(y.context=b)}),d.useMemo(()=>({...o,context:b,refs:f,reference:m,positionReference:h}),[o,f,b,m,h])}function dt(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(o=>o?o[n]:null).concat(e).reduce((o,i)=>(i&&Object.entries(i).forEach(s=>{let[c,l]=s;if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof l=="function"){var a;(a=r.get(c))==null||a.push(l),o[c]=function(){for(var p,h=arguments.length,m=new Array(h),f=0;f<h;f++)m[f]=arguments[f];(p=r.get(c))==null||p.forEach(v=>v(...m))}}}else o[c]=l}),o),{})}}const ao=function(e){e===void 0&&(e=[]);const t=e,n=d.useCallback(i=>dt(i,e,"reference"),t),r=d.useCallback(i=>dt(i,e,"floating"),t),o=d.useCallback(i=>dt(i,e,"item"),e.map(i=>i==null?void 0:i.item));return d.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:o}),[n,r,o])},fo=Object.freeze(Object.defineProperty({__proto__:null,FloatingDelayGroup:Lr,FloatingFocusManager:$r,FloatingNode:Pr,FloatingOverlay:Kr,FloatingPortal:Vr,FloatingTree:Ir,arrow:xr,autoPlacement:gr,autoUpdate:mr,computePosition:fn,detectOverflow:Ye,flip:hr,getOverflowAncestors:ge,hide:br,inline:yr,inner:oo,limitShift:wr,offset:an,platform:un,safePolygon:lo,shift:pr,size:vr,useClick:jr,useDelayGroup:Mr,useDelayGroupContext:wn,useDismiss:qr,useFloating:uo,useFloatingNodeId:Cr,useFloatingParentNodeId:De,useFloatingPortalNode:Cn,useFloatingTree:Ce,useFocus:Gr,useHover:Sr,useId:_e,useInnerOffset:io,useInteractions:ao,useListNavigation:Jr,useMergeRefs:Qr,useRole:eo,useTransitionStatus:In,useTransitionStyles:no,useTypeahead:ro},Symbol.toStringTag,{value:"Module"})),bo=An(fo);export{bo as r};
